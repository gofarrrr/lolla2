# API Keys (Required to enable respective provider)
ANTHROPIC_API_KEY="your_anthropic_api_key_here"       # Required: Format: sk-ant-api03-...
DEEPSEEK_API_KEY="your_deepseek_api_key_here"         # Optional: Budget-friendly alternative to Anthropic. Format: sk-...
PERPLEXITY_API_KEY="your_perplexity_api_key_here"     # Optional: Format: pplx-...
ENABLE_PERPLEXITY="false"                             # Optional: Enable Perplexity provider for Oracle stage (default: false)
ENABLE_SHADOW_SELF_CONSISTENCY="true"                  # Enable shadow self-consistency checks by default
BUDGET_MAX_TOKENS_PER_CALL="200000"                    # Soft cap per call tokens (default: 200k)
BUDGET_MAX_COST_PER_CALL="5.0"                          # Soft cap per call cost USD (default: $5)
BUDGET_MAX_LATENCY_MS="60000"                           # Soft cap per call latency ms (default: 60s)
PPLX_RECENCY="month"                                  # Optional: Recency filter - hour|day|week|month|year (default: month)
PPLX_NUM_RESULTS="15"                                 # Optional: Number of search results to fetch (1-100, default: 15)
PPLX_USE_SONAR="false"                                # Optional: Enable Sonar synthesis for structured insights (default: false)
PPLX_SONAR_MODEL="sonar"                              # Optional: Sonar model - sonar|sonar-pro|sonar-reasoning|sonar-reasoning-pro (default: sonar)
PPLX_DOMAINS_ALLOW=""                                 # Optional: Comma-separated domain allowlist (e.g., iea.org,reuters.com, max 20)
OPENAI_API_KEY="your_openai_api_key_here"             # Optional, for OpenAI models. Format: sk-proj-...
GOOGLE_API_KEY="your_google_api_key_here"             # Optional, for Google Gemini models.
MISTRAL_API_KEY="your_mistral_key_here"               # Optional, for Mistral AI models.
XAI_API_KEY="YOUR_XAI_KEY_HERE"                       # Optional, for xAI AI models.
GROQ_API_KEY="YOUR_GROQ_KEY_HERE"                     # Optional, for Groq models.
OPENROUTER_API_KEY="YOUR_OPENROUTER_KEY_HERE"         # Optional, for OpenRouter models.
OPENROUTER_GROK_FAST_MODEL="x-ai/grok-4-fast"           # Preferred Grok model (paid tier). Use x-ai/grok-4-fast:free for free tier.
AZURE_OPENAI_API_KEY="your_azure_key_here"            # Optional, for Azure OpenAI models (requires endpoint in .taskmaster/config.json).
OLLAMA_API_KEY="your_ollama_api_key_here"             # Optional: For remote Ollama servers that require authentication.
GITHUB_API_KEY="your_github_api_key_here"             # Optional: For GitHub import/export features. Format: ghp_... or github_pat_...
METIS_LLM_PROVIDER_ORDER="deepseek,anthropic,openrouter,claude"  # Preferred fallback order for UnifiedLLMClient
METIS_LLM_TIMEOUT_SECONDS="45"                         # Per-provider timeout window (seconds)
METIS_LLM_MAX_RETRIES="3"                              # Maximum retry attempts before failing fast
METIS_LLM_RETRY_BASE_DELAY="1.0"                       # Base delay for exponential backoff (seconds)
METIS_LLM_CIRCUIT_THRESHOLD="3"                        # Failures before opening provider circuit breaker
METIS_LLM_CIRCUIT_COOLDOWN_SECONDS="60"                # Cooldown before retrying an open circuit (seconds)

# Gamma API Configuration (Optional - for presentation generation)
GAMMA_API_KEY="your_gamma_api_key_here"               # Optional: For Gamma AI presentation generation. Format: sk-gamma-...
GAMMA_API_URL="https://public-api.gamma.app/v0.2"     # Optional: Gamma API base URL (default shown)
GAMMA_STORAGE_DIR="data/presentations"                # Optional: Local storage directory for presentations

# Zep Memory Configuration (Optional - for AI memory store and conversation tracking)
ZEP_API_KEY="your_zep_api_key_here"                   # Optional: Zep AI memory service API key. Format: z_...
ZEP_PROJECT_ID="your_zep_project_id_here"             # Optional: Zep project ID. Format: UUID

# Supabase Configuration (Required for SaaS features)
NEXT_PUBLIC_SUPABASE_URL="your_supabase_project_url"  # Required: Your Supabase project URL
NEXT_PUBLIC_SUPABASE_ANON_KEY="your_supabase_anon_key" # Required: Your Supabase public anon key
SUPABASE_SERVICE_ROLE_KEY="your_service_role_key"     # Required: Service role key for admin operations
SUPABASE_PERSONAL_ACCESS_TOKEN="your_personal_access_token" # Required for MCP: Personal Access Token for MCP server authentication

# TreeGlav Environment Configuration
TREEGLAV_ENV="development"                              # Set to 'production' for production mode
TREEGLAV_API_URL="http://localhost:8001"              # TreeGlav API endpoint
TREEGLAV_WS_URL="ws://localhost:8001/ws"              # TreeGlav WebSocket endpoint

# Stripe Configuration (Optional - for subscription billing)
STRIPE_SECRET_KEY="your_stripe_secret_key"            # Optional: Stripe secret key for billing
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="your_stripe_publishable_key" # Optional: Stripe publishable key
STRIPE_WEBHOOK_SECRET="your_stripe_webhook_secret"    # Optional: Stripe webhook secret for event handling

# Phase 2 Feature Flags
FF_MEMORY_V2="true"                                   # Enable new decayed memory store
FF_RAG_DECAY_RETRIEVAL="true"                        # Use decay-based retriever in RAG
FF_ROUTING_AB="true"                                 # Enable routing A/B scaffold
FF_TOOL_GOVERNANCE="true"                            # Enforce tool allowlist/HITL
FF_STYLE_GATE_STRICT="false"                          # Elevate style gate to blocking mode

# Stage 0 Enrichment Feature Flags
# Prefer using feature flag (A/B) via FF_STAGE0_ENRICHMENT.
# Values: "true"|"false" to force on/off; unset to use A/B config (default 50/50).
FF_STAGE0_ENRICHMENT=""                              # Optional: Force Stage 0 enrichment on/off (overrides A/B)
# Manual hard override (bypasses feature flag system). Use only for quick local testing.
ENABLE_STAGE0_ENRICHMENT=""                          # Optional: true|false to force Stage 0 on/off immediately
